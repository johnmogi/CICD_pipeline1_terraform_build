{"format_version":"1.1","terraform_version":"1.2.2","variables":{"TF_VAR_admin_password":{"value":"Y6nGLfR7Dw9m"},"TF_VAR_admin_username":{"value":"adminuser"},"TF_VAR_db_password":{"value":"5pSi8DJ7yk8f"},"TF_VAR_db_username":{"value":"postgres"},"TF_VAR_machines":{"value":1},"TF_VAR_size":{"value":"Standard_b1s"},"command_nic_ip_configuration_name":{"value":"sysadmin_ip_con"},"group":{"value":"weight-app"},"location":{"value":"East Us"},"name":{"value":"weight_app"},"pool_name":{"value":"webapp_nic"},"prefix":{"value":"weight_app"},"rg_name":{"value":"azurerm_resource_group.weight-app.name"},"rgn":{"value":"azurerm_resource_group.weight-app.name"},"size":{"value":"Standard_b1s"},"sysadmin_ip":{"value":"sysadmin_ip"},"sysadmin_machine":{"value":"vm"},"tags":{"value":{"project":"weight-app"}}},"planned_values":{"outputs":{"admin_password":{"sensitive":true,"type":"string","value":"Y6nGLfR7Dw9m"},"app_public_ip":{"sensitive":false}},"root_module":{"resources":[{"address":"azurerm_lb.azurerm_lb","mode":"managed","type":"azurerm_lb","name":"azurerm_lb","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"edge_zone":null,"frontend_ip_configuration":[{"name":"mip","zones":null}],"location":"eastus","name":"loadBalancer","resource_group_name":"staging-weight-app","sku":"Standard","sku_tier":"Regional","tags":null,"timeouts":null},"sensitive_values":{"frontend_ip_configuration":[{"inbound_nat_rules":[],"load_balancer_rules":[],"outbound_rules":[]}],"private_ip_addresses":[]}},{"address":"azurerm_lb_backend_address_pool.lb_pool","mode":"managed","type":"azurerm_lb_backend_address_pool","name":"lb_pool","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"name":"addressPool","timeouts":null,"tunnel_interface":[]},"sensitive_values":{"backend_ip_configurations":[],"load_balancing_rules":[],"outbound_rules":[],"tunnel_interface":[]}},{"address":"azurerm_lb_nat_rule.nat_rule_ssh","mode":"managed","type":"azurerm_lb_nat_rule","name":"nat_rule_ssh","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"backend_port":22,"enable_tcp_reset":null,"frontend_ip_configuration_name":"mip","frontend_port":22,"name":"SSH","protocol":"Tcp","resource_group_name":"staging-weight-app","timeouts":null},"sensitive_values":{}},{"address":"azurerm_lb_outbound_rule.outbound","mode":"managed","type":"azurerm_lb_outbound_rule","name":"outbound","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"allocated_outbound_ports":1024,"enable_tcp_reset":false,"frontend_ip_configuration":[{"name":"mip"}],"idle_timeout_in_minutes":4,"name":"Any","protocol":"All","timeouts":null},"sensitive_values":{"frontend_ip_configuration":[{}]}},{"address":"azurerm_lb_probe.lb_probe","mode":"managed","type":"azurerm_lb_probe","name":"lb_probe","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"interval_in_seconds":15,"name":"lb_probe","number_of_probes":2,"port":8080,"request_path":null,"timeouts":null},"sensitive_values":{"load_balancer_rules":[]}},{"address":"azurerm_lb_rule.web","mode":"managed","type":"azurerm_lb_rule","name":"web","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"backend_port":8080,"disable_outbound_snat":true,"enable_floating_ip":false,"enable_tcp_reset":null,"frontend_ip_configuration_name":"mip","frontend_port":8080,"name":"Web","protocol":"Tcp","timeouts":null},"sensitive_values":{"backend_address_pool_ids":[]}},{"address":"azurerm_linux_virtual_machine.sysadmin_vm","mode":"managed","type":"azurerm_linux_virtual_machine","name":"sysadmin_vm","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"additional_capabilities":[],"admin_password":"Y6nGLfR7Dw9m","admin_ssh_key":[{"public_key":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC7x2ui8vRFzoPwJgDukSy70mA3Ao5Htc8pGsy0kywALJIaRt7g0M/w3TYG2QxbxQ7mZWewPtu/FWiDH/k6gei3ui+znd4Za7k/j8ygUIqZ/twFpxjgGNsmnIOSfCzUmB2HARLNhsxfiyJJGPaz9qHSYhHRax2//HTkx4nC2LES18LRMOXshDqepC5y9lJ46bOfZ9gYz4hTvEBlETYkPvbtp2FxPcO9zzAK1c9tCxgwZQrFhgYmGIhpN2ewz24TmueYjWseqCc+/RYfLwF+ynj+7Wq8vCgoG/ZGcUBvqrTY8rGzHvNonEzDHAAB7AvZBiYPZe7Fr7n0h/oZ0Jre1PUGTSf01hYTo4HgOz54oWE7YqwJnPz6Pdm2RJgFkM/JErxf1H50ahAs6A2twHxMFyK2br3Qw3Rgh0fmugYxfIn0e4m8dLI5nzxLHiABAWSyksbM7Pyi3Dre63bUGQlLK0yaVKIknI/COjro+514W7nETMez0T8B+qhudFWCiFssSNM= anguru@gmail.com\n","username":"adminuser"}],"admin_username":"adminuser","allow_extension_operations":true,"availability_set_id":null,"boot_diagnostics":[],"computer_name":"sysadminVmWorker","custom_data":null,"dedicated_host_group_id":null,"dedicated_host_id":null,"disable_password_authentication":false,"edge_zone":null,"encryption_at_host_enabled":null,"eviction_policy":null,"extensions_time_budget":"PT1H30M","identity":[],"license_type":null,"location":"eastus","max_bid_price":-1,"name":"sysadmin_vm","os_disk":[{"caching":"ReadWrite","diff_disk_settings":[],"disk_encryption_set_id":null,"name":"sysadmin_disk","secure_vm_disk_encryption_set_id":null,"security_encryption_type":null,"storage_account_type":"Standard_LRS","write_accelerator_enabled":false}],"patch_mode":"ImageDefault","plan":[],"platform_fault_domain":-1,"priority":"Regular","provision_vm_agent":true,"proximity_placement_group_id":null,"resource_group_name":"staging-weight-app","secret":[],"secure_boot_enabled":null,"size":"Standard_b1s","source_image_id":null,"source_image_reference":[{"offer":"0001-com-ubuntu-server-focal","publisher":"Canonical","sku":"20_04-lts-gen2","version":"latest"}],"tags":null,"timeouts":null,"user_data":null,"virtual_machine_scale_set_id":null,"vtpm_enabled":null,"zone":null},"sensitive_values":{"additional_capabilities":[],"admin_ssh_key":[{}],"boot_diagnostics":[],"identity":[],"network_interface_ids":[],"os_disk":[{"diff_disk_settings":[]}],"plan":[],"private_ip_addresses":[],"public_ip_addresses":[],"secret":[],"source_image_reference":[{}],"termination_notification":[]}},{"address":"azurerm_network_interface.nics[0]","mode":"managed","type":"azurerm_network_interface","name":"nics","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"edge_zone":null,"enable_accelerated_networking":false,"enable_ip_forwarding":false,"ip_configuration":[{"name":"webapp_nic-0","private_ip_address_allocation":"Dynamic","private_ip_address_version":"IPv4","public_ip_address_id":null}],"location":"eastus","name":"webapp_nic-0","resource_group_name":"staging-weight-app","tags":null,"timeouts":null},"sensitive_values":{"applied_dns_servers":[],"dns_servers":[],"ip_configuration":[{}],"private_ip_addresses":[]}},{"address":"azurerm_network_interface.sys_nic","mode":"managed","type":"azurerm_network_interface","name":"sys_nic","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"edge_zone":null,"enable_accelerated_networking":false,"enable_ip_forwarding":false,"ip_configuration":[{"name":"sysadmin_ip_con","private_ip_address_allocation":"Dynamic","private_ip_address_version":"IPv4"}],"location":"eastus","name":"sysadmin_vm-nic","resource_group_name":"staging-weight-app","tags":null,"timeouts":null},"sensitive_values":{"applied_dns_servers":[],"dns_servers":[],"ip_configuration":[{}],"private_ip_addresses":[]}},{"address":"azurerm_network_interface.sysadmin_nic","mode":"managed","type":"azurerm_network_interface","name":"sysadmin_nic","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"edge_zone":null,"enable_accelerated_networking":false,"enable_ip_forwarding":false,"ip_configuration":[{"name":"sysadmin_ip_con","private_ip_address_allocation":"Dynamic","private_ip_address_version":"IPv4"}],"location":"eastus","name":"sysadmin_vm-nic","resource_group_name":"staging-weight-app","tags":null,"timeouts":null},"sensitive_values":{"applied_dns_servers":[],"dns_servers":[],"ip_configuration":[{}],"private_ip_addresses":[]}},{"address":"azurerm_network_interface_backend_address_pool_association.fe_nics_connection[0]","mode":"managed","type":"azurerm_network_interface_backend_address_pool_association","name":"fe_nics_connection","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"ip_configuration_name":"webapp_nic-0","timeouts":null},"sensitive_values":{}},{"address":"azurerm_network_interface_security_group_association.nics_nsg[0]","mode":"managed","type":"azurerm_network_interface_security_group_association","name":"nics_nsg","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"timeouts":null},"sensitive_values":{}},{"address":"azurerm_network_security_group.frontend_nsg","mode":"managed","type":"azurerm_network_security_group","name":"frontend_nsg","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"location":"eastus","name":"frontend_NSG","resource_group_name":"staging-weight-app","security_rule":[{"access":"Allow","description":"","destination_address_prefix":"10.0.20.0/26","destination_address_prefixes":[],"destination_application_security_group_ids":[],"destination_port_range":"22","destination_port_ranges":[],"direction":"Inbound","name":"SSH","priority":400,"protocol":"Tcp","source_address_prefix":"10.0.0.0/16","source_address_prefixes":[],"source_application_security_group_ids":[],"source_port_range":"*","source_port_ranges":[]},{"access":"Allow","description":"","destination_address_prefix":"10.0.20.0/26","destination_address_prefixes":[],"destination_application_security_group_ids":[],"destination_port_range":"8080","destination_port_ranges":[],"direction":"Inbound","name":"HTTP","priority":800,"protocol":"Tcp","source_address_prefix":"*","source_address_prefixes":[],"source_application_security_group_ids":[],"source_port_range":"*","source_port_ranges":[]}],"tags":{"environment":"staging"},"timeouts":null},"sensitive_values":{"security_rule":[{"destination_address_prefixes":[],"destination_application_security_group_ids":[],"destination_port_ranges":[],"source_address_prefixes":[],"source_application_security_group_ids":[],"source_port_ranges":[]},{"destination_address_prefixes":[],"destination_application_security_group_ids":[],"destination_port_ranges":[],"source_address_prefixes":[],"source_application_security_group_ids":[],"source_port_ranges":[]}],"tags":{}}},{"address":"azurerm_public_ip.ip","mode":"managed","type":"azurerm_public_ip","name":"ip","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"allocation_method":"Static","domain_name_label":null,"edge_zone":null,"idle_timeout_in_minutes":30,"ip_tags":null,"ip_version":"IPv4","location":"eastus","name":"ip","public_ip_prefix_id":null,"resource_group_name":"staging-weight-app","reverse_fqdn":null,"sku":"Standard","sku_tier":"Regional","tags":null,"timeouts":null,"zones":null},"sensitive_values":{}},{"address":"azurerm_public_ip.sysadmin_ip","mode":"managed","type":"azurerm_public_ip","name":"sysadmin_ip","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"allocation_method":"Dynamic","domain_name_label":null,"edge_zone":null,"idle_timeout_in_minutes":30,"ip_tags":null,"ip_version":"IPv4","location":"eastus","name":"weight_app_sysadmin_ip","public_ip_prefix_id":null,"resource_group_name":"staging-weight-app","reverse_fqdn":null,"sku":"Basic","sku_tier":"Regional","tags":null,"timeouts":null,"zones":null},"sensitive_values":{}},{"address":"azurerm_resource_group.weight-app","mode":"managed","type":"azurerm_resource_group","name":"weight-app","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"location":"eastus","name":"staging-weight-app","tags":null,"timeouts":null},"sensitive_values":{}},{"address":"azurerm_subnet.backend_subnet","mode":"managed","type":"azurerm_subnet","name":"backend_subnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefixes":["10.0.0.0/26"],"delegation":[{"name":"dbSubConection","service_delegation":[{"actions":["Microsoft.Network/virtualNetworks/subnets/join/action"],"name":"Microsoft.DBforPostgreSQL/flexibleServers"}]}],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"name":"backendSubnet","resource_group_name":"staging-weight-app","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"weight_app_network"},"sensitive_values":{"address_prefixes":[false],"delegation":[{"service_delegation":[{"actions":[false]}]}]}},{"address":"azurerm_subnet.frontend_subnet","mode":"managed","type":"azurerm_subnet","name":"frontend_subnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefixes":["10.0.20.0/26"],"delegation":[],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"name":"frontendSubnet","resource_group_name":"staging-weight-app","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"weight_app_network"},"sensitive_values":{"address_prefixes":[false],"delegation":[]}},{"address":"azurerm_subnet.sysadmin_subnet","mode":"managed","type":"azurerm_subnet","name":"sysadmin_subnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefixes":["10.0.30.0/26"],"delegation":[],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"name":"sysadminSubnet","resource_group_name":"staging-weight-app","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"weight_app_network"},"sensitive_values":{"address_prefixes":[false],"delegation":[]}},{"address":"azurerm_subnet_network_security_group_association.frontend_subnet","mode":"managed","type":"azurerm_subnet_network_security_group_association","name":"frontend_subnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"timeouts":null},"sensitive_values":{}},{"address":"azurerm_virtual_network.weight_app_network","mode":"managed","type":"azurerm_virtual_network","name":"weight_app_network","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_space":["10.0.0.0/16"],"bgp_community":null,"ddos_protection_plan":[],"edge_zone":null,"flow_timeout_in_minutes":null,"location":"eastus","name":"weight_app_network","resource_group_name":"staging-weight-app","tags":null,"timeouts":null},"sensitive_values":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":[],"subnet":[]}}],"child_modules":[{"resources":[{"address":"module.postgres.azurerm_postgresql_flexible_server.postgres_server","mode":"managed","type":"azurerm_postgresql_flexible_server","name":"postgres_server","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"administrator_login":"postgres","administrator_password":"5pSi8DJ7yk8f","create_mode":null,"geo_redundant_backup_enabled":false,"high_availability":[],"location":"eastus","maintenance_window":[],"name":"staging-weight-apppostgrsql","point_in_time_restore_time_in_utc":null,"resource_group_name":"staging-weight-app","sku_name":"B_Standard_B1ms","source_server_id":null,"storage_mb":32768,"tags":null,"timeouts":null,"version":"12","zone":"1"},"sensitive_values":{"high_availability":[],"maintenance_window":[]}},{"address":"module.postgres.azurerm_postgresql_flexible_server_configuration.dbConfig","mode":"managed","type":"azurerm_postgresql_flexible_server_configuration","name":"dbConfig","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"name":"require_secure_transport","timeouts":null,"value":"off"},"sensitive_values":{}},{"address":"module.postgres.azurerm_private_dns_zone.private_dns_zone","mode":"managed","type":"azurerm_private_dns_zone","name":"private_dns_zone","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"name":"staging-weight-app-db.postgres.database.azure.com","resource_group_name":"staging-weight-app","tags":null,"timeouts":null},"sensitive_values":{"soa_record":[]}},{"address":"module.postgres.azurerm_private_dns_zone_virtual_network_link.private_dns_zone_vnl","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"private_dns_zone_vnl","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"name":"staging-weight-app.dns-link","private_dns_zone_name":"staging-weight-app-db.postgres.database.azure.com","registration_enabled":false,"resource_group_name":"staging-weight-app","tags":null,"timeouts":null},"sensitive_values":{}}],"address":"module.postgres"},{"resources":[{"address":"module.vm_front[0].azurerm_availability_set.avset","mode":"managed","type":"azurerm_availability_set","name":"avset","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"location":"eastus","managed":true,"name":"availabilitySet","platform_fault_domain_count":1,"platform_update_domain_count":1,"proximity_placement_group_id":null,"resource_group_name":"staging-weight-app","tags":null,"timeouts":null},"sensitive_values":{}},{"address":"module.vm_front[0].azurerm_linux_virtual_machine.frontendServer","mode":"managed","type":"azurerm_linux_virtual_machine","name":"frontendServer","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"additional_capabilities":[],"admin_password":"Y6nGLfR7Dw9m","admin_ssh_key":[],"admin_username":"adminuser","allow_extension_operations":true,"boot_diagnostics":[],"custom_data":null,"dedicated_host_group_id":null,"dedicated_host_id":null,"disable_password_authentication":false,"edge_zone":null,"encryption_at_host_enabled":null,"eviction_policy":null,"extensions_time_budget":"PT1H30M","identity":[],"license_type":null,"location":"eastus","max_bid_price":-1,"name":"frontendMachine0","os_disk":[{"caching":"ReadWrite","diff_disk_settings":[],"disk_encryption_set_id":null,"secure_vm_disk_encryption_set_id":null,"security_encryption_type":null,"storage_account_type":"Standard_LRS","write_accelerator_enabled":false}],"patch_mode":"ImageDefault","plan":[],"platform_fault_domain":-1,"priority":"Regular","provision_vm_agent":true,"proximity_placement_group_id":null,"resource_group_name":"staging-weight-app","secret":[],"secure_boot_enabled":null,"size":"Standard_b1s","source_image_id":null,"source_image_reference":[{"offer":"0001-com-ubuntu-server-focal","publisher":"Canonical","sku":"20_04-lts-gen2","version":"latest"}],"tags":{"environment":"staging"},"timeouts":null,"user_data":null,"virtual_machine_scale_set_id":null,"vtpm_enabled":null,"zone":null},"sensitive_values":{"additional_capabilities":[],"admin_ssh_key":[],"boot_diagnostics":[],"identity":[],"network_interface_ids":[],"os_disk":[{"diff_disk_settings":[]}],"plan":[],"private_ip_addresses":[],"public_ip_addresses":[],"secret":[],"source_image_reference":[{}],"tags":{},"termination_notification":[]}}],"address":"module.vm_front[0]"}]}},"resource_drift":[{"address":"azurerm_network_interface.sysadmin_nic","mode":"managed","type":"azurerm_network_interface","name":"sysadmin_nic","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["delete"],"before":{"applied_dns_servers":[],"dns_servers":[],"edge_zone":"","enable_accelerated_networking":false,"enable_ip_forwarding":false,"id":"/subscriptions/f0de5eae-71b0-412c-9a68-49f436648228/resourceGroups/staging-weight-app/providers/Microsoft.Network/networkInterfaces/sysadmin_vm-nic","internal_dns_name_label":"","internal_domain_name_suffix":"g2knoc1blhpu3m3tlqbbzcly2b.bx.internal.cloudapp.net","ip_configuration":[{"gateway_load_balancer_frontend_ip_configuration_id":"","name":"sysadmin_ip_con","primary":true,"private_ip_address":"10.0.30.4","private_ip_address_allocation":"Dynamic","private_ip_address_version":"IPv4","public_ip_address_id":"/subscriptions/f0de5eae-71b0-412c-9a68-49f436648228/resourceGroups/staging-weight-app/providers/Microsoft.Network/publicIPAddresses/weight_app_sysadmin_ip","subnet_id":"/subscriptions/f0de5eae-71b0-412c-9a68-49f436648228/resourceGroups/staging-weight-app/providers/Microsoft.Network/virtualNetworks/weight_app_network/subnets/sysadminSubnet"}],"location":"eastus","mac_address":"00-22-48-34-85-87","name":"sysadmin_vm-nic","private_ip_address":"10.0.30.4","private_ip_addresses":["10.0.30.4"],"resource_group_name":"staging-weight-app","tags":{},"timeouts":null,"virtual_machine_id":"/subscriptions/f0de5eae-71b0-412c-9a68-49f436648228/resourceGroups/staging-weight-app/providers/Microsoft.Compute/virtualMachines/sysadmin_vm"},"after":null,"after_unknown":{},"before_sensitive":{"applied_dns_servers":[],"dns_servers":[],"ip_configuration":[{}],"private_ip_addresses":[false],"tags":{}},"after_sensitive":false}},{"address":"azurerm_public_ip.sysadmin_ip","mode":"managed","type":"azurerm_public_ip","name":"sysadmin_ip","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["delete"],"before":{"allocation_method":"Dynamic","domain_name_label":null,"edge_zone":"","fqdn":null,"id":"/subscriptions/f0de5eae-71b0-412c-9a68-49f436648228/resourceGroups/staging-weight-app/providers/Microsoft.Network/publicIPAddresses/weight_app_sysadmin_ip","idle_timeout_in_minutes":30,"ip_address":"20.106.150.227","ip_tags":{},"ip_version":"IPv4","location":"eastus","name":"weight_app_sysadmin_ip","public_ip_prefix_id":null,"resource_group_name":"staging-weight-app","reverse_fqdn":null,"sku":"Basic","sku_tier":"Regional","tags":{},"timeouts":null,"zones":[]},"after":null,"after_unknown":{},"before_sensitive":{"ip_tags":{},"tags":{},"zones":[]},"after_sensitive":false}},{"address":"azurerm_resource_group.weight-app","mode":"managed","type":"azurerm_resource_group","name":"weight-app","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["delete"],"before":{"id":"/subscriptions/f0de5eae-71b0-412c-9a68-49f436648228/resourceGroups/staging-weight-app","location":"eastus","name":"staging-weight-app","tags":{},"timeouts":null},"after":null,"after_unknown":{},"before_sensitive":{"tags":{}},"after_sensitive":false}},{"address":"azurerm_subnet.sysadmin_subnet","mode":"managed","type":"azurerm_subnet","name":"sysadmin_subnet","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["delete"],"before":{"address_prefixes":["10.0.30.0/26"],"delegation":[],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/f0de5eae-71b0-412c-9a68-49f436648228/resourceGroups/staging-weight-app/providers/Microsoft.Network/virtualNetworks/weight_app_network/subnets/sysadminSubnet","name":"sysadminSubnet","resource_group_name":"staging-weight-app","service_endpoint_policy_ids":[],"service_endpoints":[],"timeouts":null,"virtual_network_name":"weight_app_network"},"after":null,"after_unknown":{},"before_sensitive":{"address_prefixes":[false],"delegation":[],"service_endpoint_policy_ids":[],"service_endpoints":[]},"after_sensitive":false}},{"address":"azurerm_virtual_network.weight_app_network","mode":"managed","type":"azurerm_virtual_network","name":"weight_app_network","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["delete"],"before":{"address_space":["10.0.0.0/16"],"bgp_community":"","ddos_protection_plan":[],"dns_servers":[],"edge_zone":"","flow_timeout_in_minutes":0,"guid":"0bd71437-5961-4edf-b3b3-5c021c8978e1","id":"/subscriptions/f0de5eae-71b0-412c-9a68-49f436648228/resourceGroups/staging-weight-app/providers/Microsoft.Network/virtualNetworks/weight_app_network","location":"eastus","name":"weight_app_network","resource_group_name":"staging-weight-app","subnet":[{"address_prefix":"10.0.0.0/26","id":"/subscriptions/f0de5eae-71b0-412c-9a68-49f436648228/resourceGroups/staging-weight-app/providers/Microsoft.Network/virtualNetworks/weight_app_network/subnets/backendSubnet","name":"backendSubnet","security_group":""},{"address_prefix":"10.0.20.0/26","id":"/subscriptions/f0de5eae-71b0-412c-9a68-49f436648228/resourceGroups/staging-weight-app/providers/Microsoft.Network/virtualNetworks/weight_app_network/subnets/frontendSubnet","name":"frontendSubnet","security_group":"/subscriptions/f0de5eae-71b0-412c-9a68-49f436648228/resourceGroups/staging-weight-app/providers/Microsoft.Network/networkSecurityGroups/frontend_NSG"},{"address_prefix":"10.0.30.0/26","id":"/subscriptions/f0de5eae-71b0-412c-9a68-49f436648228/resourceGroups/staging-weight-app/providers/Microsoft.Network/virtualNetworks/weight_app_network/subnets/sysadminSubnet","name":"sysadminSubnet","security_group":""}],"tags":{},"timeouts":null},"after":null,"after_unknown":{},"before_sensitive":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":[],"subnet":[{},{},{}],"tags":{}},"after_sensitive":false}}],"resource_changes":[{"address":"azurerm_lb.azurerm_lb","mode":"managed","type":"azurerm_lb","name":"azurerm_lb","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"edge_zone":null,"frontend_ip_configuration":[{"name":"mip","zones":null}],"location":"eastus","name":"loadBalancer","resource_group_name":"staging-weight-app","sku":"Standard","sku_tier":"Regional","tags":null,"timeouts":null},"after_unknown":{"frontend_ip_configuration":[{"gateway_load_balancer_frontend_ip_configuration_id":true,"id":true,"inbound_nat_rules":true,"load_balancer_rules":true,"outbound_rules":true,"private_ip_address":true,"private_ip_address_allocation":true,"private_ip_address_version":true,"public_ip_address_id":true,"public_ip_prefix_id":true,"subnet_id":true}],"id":true,"private_ip_address":true,"private_ip_addresses":true},"before_sensitive":false,"after_sensitive":{"frontend_ip_configuration":[{"inbound_nat_rules":[],"load_balancer_rules":[],"outbound_rules":[]}],"private_ip_addresses":[]}}},{"address":"azurerm_lb_backend_address_pool.lb_pool","mode":"managed","type":"azurerm_lb_backend_address_pool","name":"lb_pool","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"name":"addressPool","timeouts":null,"tunnel_interface":[]},"after_unknown":{"backend_ip_configurations":true,"id":true,"load_balancing_rules":true,"loadbalancer_id":true,"outbound_rules":true,"tunnel_interface":[]},"before_sensitive":false,"after_sensitive":{"backend_ip_configurations":[],"load_balancing_rules":[],"outbound_rules":[],"tunnel_interface":[]}}},{"address":"azurerm_lb_nat_rule.nat_rule_ssh","mode":"managed","type":"azurerm_lb_nat_rule","name":"nat_rule_ssh","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"backend_port":22,"enable_tcp_reset":null,"frontend_ip_configuration_name":"mip","frontend_port":22,"name":"SSH","protocol":"Tcp","resource_group_name":"staging-weight-app","timeouts":null},"after_unknown":{"backend_ip_configuration_id":true,"enable_floating_ip":true,"frontend_ip_configuration_id":true,"id":true,"idle_timeout_in_minutes":true,"loadbalancer_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"azurerm_lb_outbound_rule.outbound","mode":"managed","type":"azurerm_lb_outbound_rule","name":"outbound","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"allocated_outbound_ports":1024,"enable_tcp_reset":false,"frontend_ip_configuration":[{"name":"mip"}],"idle_timeout_in_minutes":4,"name":"Any","protocol":"All","timeouts":null},"after_unknown":{"backend_address_pool_id":true,"frontend_ip_configuration":[{"id":true}],"id":true,"loadbalancer_id":true},"before_sensitive":false,"after_sensitive":{"frontend_ip_configuration":[{}]}}},{"address":"azurerm_lb_probe.lb_probe","mode":"managed","type":"azurerm_lb_probe","name":"lb_probe","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"interval_in_seconds":15,"name":"lb_probe","number_of_probes":2,"port":8080,"request_path":null,"timeouts":null},"after_unknown":{"id":true,"load_balancer_rules":true,"loadbalancer_id":true,"protocol":true},"before_sensitive":false,"after_sensitive":{"load_balancer_rules":[]}}},{"address":"azurerm_lb_rule.web","mode":"managed","type":"azurerm_lb_rule","name":"web","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"backend_port":8080,"disable_outbound_snat":true,"enable_floating_ip":false,"enable_tcp_reset":null,"frontend_ip_configuration_name":"mip","frontend_port":8080,"name":"Web","protocol":"Tcp","timeouts":null},"after_unknown":{"backend_address_pool_ids":true,"frontend_ip_configuration_id":true,"id":true,"idle_timeout_in_minutes":true,"load_distribution":true,"loadbalancer_id":true,"probe_id":true},"before_sensitive":false,"after_sensitive":{"backend_address_pool_ids":[]}}},{"address":"azurerm_linux_virtual_machine.sysadmin_vm","mode":"managed","type":"azurerm_linux_virtual_machine","name":"sysadmin_vm","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"additional_capabilities":[],"admin_password":"Y6nGLfR7Dw9m","admin_ssh_key":[{"public_key":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC7x2ui8vRFzoPwJgDukSy70mA3Ao5Htc8pGsy0kywALJIaRt7g0M/w3TYG2QxbxQ7mZWewPtu/FWiDH/k6gei3ui+znd4Za7k/j8ygUIqZ/twFpxjgGNsmnIOSfCzUmB2HARLNhsxfiyJJGPaz9qHSYhHRax2//HTkx4nC2LES18LRMOXshDqepC5y9lJ46bOfZ9gYz4hTvEBlETYkPvbtp2FxPcO9zzAK1c9tCxgwZQrFhgYmGIhpN2ewz24TmueYjWseqCc+/RYfLwF+ynj+7Wq8vCgoG/ZGcUBvqrTY8rGzHvNonEzDHAAB7AvZBiYPZe7Fr7n0h/oZ0Jre1PUGTSf01hYTo4HgOz54oWE7YqwJnPz6Pdm2RJgFkM/JErxf1H50ahAs6A2twHxMFyK2br3Qw3Rgh0fmugYxfIn0e4m8dLI5nzxLHiABAWSyksbM7Pyi3Dre63bUGQlLK0yaVKIknI/COjro+514W7nETMez0T8B+qhudFWCiFssSNM= anguru@gmail.com\n","username":"adminuser"}],"admin_username":"adminuser","allow_extension_operations":true,"availability_set_id":null,"boot_diagnostics":[],"computer_name":"sysadminVmWorker","custom_data":null,"dedicated_host_group_id":null,"dedicated_host_id":null,"disable_password_authentication":false,"edge_zone":null,"encryption_at_host_enabled":null,"eviction_policy":null,"extensions_time_budget":"PT1H30M","identity":[],"license_type":null,"location":"eastus","max_bid_price":-1,"name":"sysadmin_vm","os_disk":[{"caching":"ReadWrite","diff_disk_settings":[],"disk_encryption_set_id":null,"name":"sysadmin_disk","secure_vm_disk_encryption_set_id":null,"security_encryption_type":null,"storage_account_type":"Standard_LRS","write_accelerator_enabled":false}],"patch_mode":"ImageDefault","plan":[],"platform_fault_domain":-1,"priority":"Regular","provision_vm_agent":true,"proximity_placement_group_id":null,"resource_group_name":"staging-weight-app","secret":[],"secure_boot_enabled":null,"size":"Standard_b1s","source_image_id":null,"source_image_reference":[{"offer":"0001-com-ubuntu-server-focal","publisher":"Canonical","sku":"20_04-lts-gen2","version":"latest"}],"tags":null,"timeouts":null,"user_data":null,"virtual_machine_scale_set_id":null,"vtpm_enabled":null,"zone":null},"after_unknown":{"additional_capabilities":[],"admin_ssh_key":[{}],"boot_diagnostics":[],"id":true,"identity":[],"network_interface_ids":true,"os_disk":[{"diff_disk_settings":[],"disk_size_gb":true}],"plan":[],"private_ip_address":true,"private_ip_addresses":true,"public_ip_address":true,"public_ip_addresses":true,"secret":[],"source_image_reference":[{}],"termination_notification":true,"virtual_machine_id":true},"before_sensitive":false,"after_sensitive":{"additional_capabilities":[],"admin_password":true,"admin_ssh_key":[{}],"boot_diagnostics":[],"custom_data":true,"identity":[],"network_interface_ids":[],"os_disk":[{"diff_disk_settings":[]}],"plan":[],"private_ip_addresses":[],"public_ip_addresses":[],"secret":[],"source_image_reference":[{}],"termination_notification":[]}}},{"address":"azurerm_network_interface.nics[0]","mode":"managed","type":"azurerm_network_interface","name":"nics","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"edge_zone":null,"enable_accelerated_networking":false,"enable_ip_forwarding":false,"ip_configuration":[{"name":"webapp_nic-0","private_ip_address_allocation":"Dynamic","private_ip_address_version":"IPv4","public_ip_address_id":null}],"location":"eastus","name":"webapp_nic-0","resource_group_name":"staging-weight-app","tags":null,"timeouts":null},"after_unknown":{"applied_dns_servers":true,"dns_servers":true,"id":true,"internal_dns_name_label":true,"internal_domain_name_suffix":true,"ip_configuration":[{"gateway_load_balancer_frontend_ip_configuration_id":true,"primary":true,"private_ip_address":true,"subnet_id":true}],"mac_address":true,"private_ip_address":true,"private_ip_addresses":true,"virtual_machine_id":true},"before_sensitive":false,"after_sensitive":{"applied_dns_servers":[],"dns_servers":[],"ip_configuration":[{}],"private_ip_addresses":[]}}},{"address":"azurerm_network_interface.sys_nic","mode":"managed","type":"azurerm_network_interface","name":"sys_nic","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"edge_zone":null,"enable_accelerated_networking":false,"enable_ip_forwarding":false,"ip_configuration":[{"name":"sysadmin_ip_con","private_ip_address_allocation":"Dynamic","private_ip_address_version":"IPv4"}],"location":"eastus","name":"sysadmin_vm-nic","resource_group_name":"staging-weight-app","tags":null,"timeouts":null},"after_unknown":{"applied_dns_servers":true,"dns_servers":true,"id":true,"internal_dns_name_label":true,"internal_domain_name_suffix":true,"ip_configuration":[{"gateway_load_balancer_frontend_ip_configuration_id":true,"primary":true,"private_ip_address":true,"public_ip_address_id":true,"subnet_id":true}],"mac_address":true,"private_ip_address":true,"private_ip_addresses":true,"virtual_machine_id":true},"before_sensitive":false,"after_sensitive":{"applied_dns_servers":[],"dns_servers":[],"ip_configuration":[{}],"private_ip_addresses":[]}}},{"address":"azurerm_network_interface.sysadmin_nic","mode":"managed","type":"azurerm_network_interface","name":"sysadmin_nic","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"edge_zone":null,"enable_accelerated_networking":false,"enable_ip_forwarding":false,"ip_configuration":[{"name":"sysadmin_ip_con","private_ip_address_allocation":"Dynamic","private_ip_address_version":"IPv4"}],"location":"eastus","name":"sysadmin_vm-nic","resource_group_name":"staging-weight-app","tags":null,"timeouts":null},"after_unknown":{"applied_dns_servers":true,"dns_servers":true,"id":true,"internal_dns_name_label":true,"internal_domain_name_suffix":true,"ip_configuration":[{"gateway_load_balancer_frontend_ip_configuration_id":true,"primary":true,"private_ip_address":true,"public_ip_address_id":true,"subnet_id":true}],"mac_address":true,"private_ip_address":true,"private_ip_addresses":true,"virtual_machine_id":true},"before_sensitive":false,"after_sensitive":{"applied_dns_servers":[],"dns_servers":[],"ip_configuration":[{}],"private_ip_addresses":[]}}},{"address":"azurerm_network_interface_backend_address_pool_association.fe_nics_connection[0]","mode":"managed","type":"azurerm_network_interface_backend_address_pool_association","name":"fe_nics_connection","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"ip_configuration_name":"webapp_nic-0","timeouts":null},"after_unknown":{"backend_address_pool_id":true,"id":true,"network_interface_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"azurerm_network_interface_security_group_association.nics_nsg[0]","mode":"managed","type":"azurerm_network_interface_security_group_association","name":"nics_nsg","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"timeouts":null},"after_unknown":{"id":true,"network_interface_id":true,"network_security_group_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"azurerm_network_security_group.frontend_nsg","mode":"managed","type":"azurerm_network_security_group","name":"frontend_nsg","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"location":"eastus","name":"frontend_NSG","resource_group_name":"staging-weight-app","security_rule":[{"access":"Allow","description":"","destination_address_prefix":"10.0.20.0/26","destination_address_prefixes":[],"destination_application_security_group_ids":[],"destination_port_range":"22","destination_port_ranges":[],"direction":"Inbound","name":"SSH","priority":400,"protocol":"Tcp","source_address_prefix":"10.0.0.0/16","source_address_prefixes":[],"source_application_security_group_ids":[],"source_port_range":"*","source_port_ranges":[]},{"access":"Allow","description":"","destination_address_prefix":"10.0.20.0/26","destination_address_prefixes":[],"destination_application_security_group_ids":[],"destination_port_range":"8080","destination_port_ranges":[],"direction":"Inbound","name":"HTTP","priority":800,"protocol":"Tcp","source_address_prefix":"*","source_address_prefixes":[],"source_application_security_group_ids":[],"source_port_range":"*","source_port_ranges":[]}],"tags":{"environment":"staging"},"timeouts":null},"after_unknown":{"id":true,"security_rule":[{"destination_address_prefixes":[],"destination_application_security_group_ids":[],"destination_port_ranges":[],"source_address_prefixes":[],"source_application_security_group_ids":[],"source_port_ranges":[]},{"destination_address_prefixes":[],"destination_application_security_group_ids":[],"destination_port_ranges":[],"source_address_prefixes":[],"source_application_security_group_ids":[],"source_port_ranges":[]}],"tags":{}},"before_sensitive":false,"after_sensitive":{"security_rule":[{"destination_address_prefixes":[],"destination_application_security_group_ids":[],"destination_port_ranges":[],"source_address_prefixes":[],"source_application_security_group_ids":[],"source_port_ranges":[]},{"destination_address_prefixes":[],"destination_application_security_group_ids":[],"destination_port_ranges":[],"source_address_prefixes":[],"source_application_security_group_ids":[],"source_port_ranges":[]}],"tags":{}}}},{"address":"azurerm_public_ip.ip","mode":"managed","type":"azurerm_public_ip","name":"ip","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"allocation_method":"Static","domain_name_label":null,"edge_zone":null,"idle_timeout_in_minutes":30,"ip_tags":null,"ip_version":"IPv4","location":"eastus","name":"ip","public_ip_prefix_id":null,"resource_group_name":"staging-weight-app","reverse_fqdn":null,"sku":"Standard","sku_tier":"Regional","tags":null,"timeouts":null,"zones":null},"after_unknown":{"fqdn":true,"id":true,"ip_address":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"azurerm_public_ip.sysadmin_ip","mode":"managed","type":"azurerm_public_ip","name":"sysadmin_ip","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"allocation_method":"Dynamic","domain_name_label":null,"edge_zone":null,"idle_timeout_in_minutes":30,"ip_tags":null,"ip_version":"IPv4","location":"eastus","name":"weight_app_sysadmin_ip","public_ip_prefix_id":null,"resource_group_name":"staging-weight-app","reverse_fqdn":null,"sku":"Basic","sku_tier":"Regional","tags":null,"timeouts":null,"zones":null},"after_unknown":{"fqdn":true,"id":true,"ip_address":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"azurerm_resource_group.weight-app","mode":"managed","type":"azurerm_resource_group","name":"weight-app","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"location":"eastus","name":"staging-weight-app","tags":null,"timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"azurerm_subnet.backend_subnet","mode":"managed","type":"azurerm_subnet","name":"backend_subnet","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"address_prefixes":["10.0.0.0/26"],"delegation":[{"name":"dbSubConection","service_delegation":[{"actions":["Microsoft.Network/virtualNetworks/subnets/join/action"],"name":"Microsoft.DBforPostgreSQL/flexibleServers"}]}],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"name":"backendSubnet","resource_group_name":"staging-weight-app","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"weight_app_network"},"after_unknown":{"address_prefixes":[false],"delegation":[{"service_delegation":[{"actions":[false]}]}],"id":true},"before_sensitive":false,"after_sensitive":{"address_prefixes":[false],"delegation":[{"service_delegation":[{"actions":[false]}]}]}}},{"address":"azurerm_subnet.frontend_subnet","mode":"managed","type":"azurerm_subnet","name":"frontend_subnet","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"address_prefixes":["10.0.20.0/26"],"delegation":[],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"name":"frontendSubnet","resource_group_name":"staging-weight-app","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"weight_app_network"},"after_unknown":{"address_prefixes":[false],"delegation":[],"id":true},"before_sensitive":false,"after_sensitive":{"address_prefixes":[false],"delegation":[]}}},{"address":"azurerm_subnet.sysadmin_subnet","mode":"managed","type":"azurerm_subnet","name":"sysadmin_subnet","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"address_prefixes":["10.0.30.0/26"],"delegation":[],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"name":"sysadminSubnet","resource_group_name":"staging-weight-app","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"weight_app_network"},"after_unknown":{"address_prefixes":[false],"delegation":[],"id":true},"before_sensitive":false,"after_sensitive":{"address_prefixes":[false],"delegation":[]}}},{"address":"azurerm_subnet_network_security_group_association.frontend_subnet","mode":"managed","type":"azurerm_subnet_network_security_group_association","name":"frontend_subnet","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"timeouts":null},"after_unknown":{"id":true,"network_security_group_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"azurerm_virtual_network.weight_app_network","mode":"managed","type":"azurerm_virtual_network","name":"weight_app_network","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"address_space":["10.0.0.0/16"],"bgp_community":null,"ddos_protection_plan":[],"edge_zone":null,"flow_timeout_in_minutes":null,"location":"eastus","name":"weight_app_network","resource_group_name":"staging-weight-app","tags":null,"timeouts":null},"after_unknown":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":true,"guid":true,"id":true,"subnet":true},"before_sensitive":false,"after_sensitive":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":[],"subnet":[]}}},{"address":"module.postgres.azurerm_postgresql_flexible_server.postgres_server","module_address":"module.postgres","mode":"managed","type":"azurerm_postgresql_flexible_server","name":"postgres_server","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"administrator_login":"postgres","administrator_password":"5pSi8DJ7yk8f","create_mode":null,"geo_redundant_backup_enabled":false,"high_availability":[],"location":"eastus","maintenance_window":[],"name":"staging-weight-apppostgrsql","point_in_time_restore_time_in_utc":null,"resource_group_name":"staging-weight-app","sku_name":"B_Standard_B1ms","source_server_id":null,"storage_mb":32768,"tags":null,"timeouts":null,"version":"12","zone":"1"},"after_unknown":{"backup_retention_days":true,"delegated_subnet_id":true,"fqdn":true,"high_availability":[],"id":true,"maintenance_window":[],"private_dns_zone_id":true,"public_network_access_enabled":true},"before_sensitive":false,"after_sensitive":{"administrator_password":true,"high_availability":[],"maintenance_window":[]}}},{"address":"module.postgres.azurerm_postgresql_flexible_server_configuration.dbConfig","module_address":"module.postgres","mode":"managed","type":"azurerm_postgresql_flexible_server_configuration","name":"dbConfig","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"name":"require_secure_transport","timeouts":null,"value":"off"},"after_unknown":{"id":true,"server_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.postgres.azurerm_private_dns_zone.private_dns_zone","module_address":"module.postgres","mode":"managed","type":"azurerm_private_dns_zone","name":"private_dns_zone","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"name":"staging-weight-app-db.postgres.database.azure.com","resource_group_name":"staging-weight-app","tags":null,"timeouts":null},"after_unknown":{"id":true,"max_number_of_record_sets":true,"max_number_of_virtual_network_links":true,"max_number_of_virtual_network_links_with_registration":true,"number_of_record_sets":true,"soa_record":true},"before_sensitive":false,"after_sensitive":{"soa_record":[]}}},{"address":"module.postgres.azurerm_private_dns_zone_virtual_network_link.private_dns_zone_vnl","module_address":"module.postgres","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"private_dns_zone_vnl","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"name":"staging-weight-app.dns-link","private_dns_zone_name":"staging-weight-app-db.postgres.database.azure.com","registration_enabled":false,"resource_group_name":"staging-weight-app","tags":null,"timeouts":null},"after_unknown":{"id":true,"virtual_network_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.vm_front[0].azurerm_availability_set.avset","module_address":"module.vm_front[0]","mode":"managed","type":"azurerm_availability_set","name":"avset","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"location":"eastus","managed":true,"name":"availabilitySet","platform_fault_domain_count":1,"platform_update_domain_count":1,"proximity_placement_group_id":null,"resource_group_name":"staging-weight-app","tags":null,"timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.vm_front[0].azurerm_linux_virtual_machine.frontendServer","module_address":"module.vm_front[0]","mode":"managed","type":"azurerm_linux_virtual_machine","name":"frontendServer","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"additional_capabilities":[],"admin_password":"Y6nGLfR7Dw9m","admin_ssh_key":[],"admin_username":"adminuser","allow_extension_operations":true,"boot_diagnostics":[],"custom_data":null,"dedicated_host_group_id":null,"dedicated_host_id":null,"disable_password_authentication":false,"edge_zone":null,"encryption_at_host_enabled":null,"eviction_policy":null,"extensions_time_budget":"PT1H30M","identity":[],"license_type":null,"location":"eastus","max_bid_price":-1,"name":"frontendMachine0","os_disk":[{"caching":"ReadWrite","diff_disk_settings":[],"disk_encryption_set_id":null,"secure_vm_disk_encryption_set_id":null,"security_encryption_type":null,"storage_account_type":"Standard_LRS","write_accelerator_enabled":false}],"patch_mode":"ImageDefault","plan":[],"platform_fault_domain":-1,"priority":"Regular","provision_vm_agent":true,"proximity_placement_group_id":null,"resource_group_name":"staging-weight-app","secret":[],"secure_boot_enabled":null,"size":"Standard_b1s","source_image_id":null,"source_image_reference":[{"offer":"0001-com-ubuntu-server-focal","publisher":"Canonical","sku":"20_04-lts-gen2","version":"latest"}],"tags":{"environment":"staging"},"timeouts":null,"user_data":null,"virtual_machine_scale_set_id":null,"vtpm_enabled":null,"zone":null},"after_unknown":{"additional_capabilities":[],"admin_ssh_key":[],"availability_set_id":true,"boot_diagnostics":[],"computer_name":true,"id":true,"identity":[],"network_interface_ids":true,"os_disk":[{"diff_disk_settings":[],"disk_size_gb":true,"name":true}],"plan":[],"private_ip_address":true,"private_ip_addresses":true,"public_ip_address":true,"public_ip_addresses":true,"secret":[],"source_image_reference":[{}],"tags":{},"termination_notification":true,"virtual_machine_id":true},"before_sensitive":false,"after_sensitive":{"additional_capabilities":[],"admin_password":true,"admin_ssh_key":[],"boot_diagnostics":[],"custom_data":true,"identity":[],"network_interface_ids":[],"os_disk":[{"diff_disk_settings":[]}],"plan":[],"private_ip_addresses":[],"public_ip_addresses":[],"secret":[],"source_image_reference":[{}],"tags":{},"termination_notification":[]}}}],"output_changes":{"admin_password":{"actions":["create"],"before":null,"after":"Y6nGLfR7Dw9m","after_unknown":false,"before_sensitive":true,"after_sensitive":true},"app_public_ip":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false}},"prior_state":{"format_version":"1.0","terraform_version":"1.2.2","values":{"outputs":{"admin_password":{"sensitive":true,"value":"Y6nGLfR7Dw9m","type":"string"}},"root_module":{}}},"configuration":{"provider_config":{"azurerm":{"name":"azurerm","full_name":"registry.terraform.io/hashicorp/azurerm","expressions":{"client_id":{"constant_value":"8ad5ca92-b826-4c40-ad26-11bd82260854"},"client_secret":{"constant_value":"RQi8Q~syswW6fwvUIPgOuOu5BhOmtQeOByZe7bi3"},"features":[{}],"subscription_id":{"constant_value":"f0de5eae-71b0-412c-9a68-49f436648228"},"tenant_id":{"constant_value":"108d7c99-1c6f-4834-853c-92f82f2742e9"}}}},"root_module":{"outputs":{"admin_password":{"sensitive":true,"expression":{"references":["var.TF_VAR_admin_password"]}},"app_public_ip":{"expression":{"references":["azurerm_public_ip.ip"]}}},"resources":[{"address":"azurerm_lb.azurerm_lb","mode":"managed","type":"azurerm_lb","name":"azurerm_lb","provider_config_key":"azurerm","expressions":{"frontend_ip_configuration":[{"name":{"constant_value":"mip"},"public_ip_address_id":{"references":["azurerm_public_ip.ip.id","azurerm_public_ip.ip"]}}],"location":{"references":["var.location"]},"name":{"constant_value":"loadBalancer"},"resource_group_name":{"references":["azurerm_resource_group.weight-app.name","azurerm_resource_group.weight-app"]},"sku":{"constant_value":"Standard"}},"schema_version":0},{"address":"azurerm_lb_backend_address_pool.lb_pool","mode":"managed","type":"azurerm_lb_backend_address_pool","name":"lb_pool","provider_config_key":"azurerm","expressions":{"loadbalancer_id":{"references":["azurerm_lb.azurerm_lb.id","azurerm_lb.azurerm_lb"]},"name":{"constant_value":"addressPool"}},"schema_version":0,"depends_on":["azurerm_lb.azurerm_lb"]},{"address":"azurerm_lb_nat_rule.nat_rule_ssh","mode":"managed","type":"azurerm_lb_nat_rule","name":"nat_rule_ssh","provider_config_key":"azurerm","expressions":{"backend_port":{"constant_value":22},"frontend_ip_configuration_name":{"constant_value":"mip"},"frontend_port":{"constant_value":22},"loadbalancer_id":{"references":["azurerm_lb.azurerm_lb.id","azurerm_lb.azurerm_lb"]},"name":{"constant_value":"SSH"},"protocol":{"constant_value":"Tcp"},"resource_group_name":{"references":["azurerm_resource_group.weight-app.name","azurerm_resource_group.weight-app"]}},"schema_version":0,"depends_on":["azurerm_lb.azurerm_lb"]},{"address":"azurerm_lb_outbound_rule.outbound","mode":"managed","type":"azurerm_lb_outbound_rule","name":"outbound","provider_config_key":"azurerm","expressions":{"backend_address_pool_id":{"references":["azurerm_lb_backend_address_pool.lb_pool.id","azurerm_lb_backend_address_pool.lb_pool"]},"frontend_ip_configuration":[{"name":{"constant_value":"mip"}}],"loadbalancer_id":{"references":["azurerm_lb.azurerm_lb.id","azurerm_lb.azurerm_lb"]},"name":{"constant_value":"Any"},"protocol":{"constant_value":"All"}},"schema_version":0,"depends_on":["azurerm_lb.azurerm_lb"]},{"address":"azurerm_lb_probe.lb_probe","mode":"managed","type":"azurerm_lb_probe","name":"lb_probe","provider_config_key":"azurerm","expressions":{"loadbalancer_id":{"references":["azurerm_lb.azurerm_lb.id","azurerm_lb.azurerm_lb"]},"name":{"constant_value":"lb_probe"},"port":{"constant_value":8080}},"schema_version":0},{"address":"azurerm_lb_rule.web","mode":"managed","type":"azurerm_lb_rule","name":"web","provider_config_key":"azurerm","expressions":{"backend_address_pool_ids":{"references":["azurerm_lb_backend_address_pool.lb_pool.id","azurerm_lb_backend_address_pool.lb_pool"]},"backend_port":{"constant_value":8080},"disable_outbound_snat":{"constant_value":true},"frontend_ip_configuration_name":{"constant_value":"mip"},"frontend_port":{"constant_value":8080},"loadbalancer_id":{"references":["azurerm_lb.azurerm_lb.id","azurerm_lb.azurerm_lb"]},"name":{"constant_value":"Web"},"probe_id":{"references":["azurerm_lb_probe.lb_probe.id","azurerm_lb_probe.lb_probe"]},"protocol":{"constant_value":"Tcp"}},"schema_version":0,"depends_on":["azurerm_lb.azurerm_lb"]},{"address":"azurerm_linux_virtual_machine.sysadmin_vm","mode":"managed","type":"azurerm_linux_virtual_machine","name":"sysadmin_vm","provider_config_key":"azurerm","expressions":{"admin_password":{"references":["var.TF_VAR_admin_password"]},"admin_ssh_key":[{"public_key":{},"username":{"constant_value":"adminuser"}}],"admin_username":{"references":["var.TF_VAR_admin_username"]},"computer_name":{"constant_value":"sysadminVmWorker"},"disable_password_authentication":{"constant_value":false},"location":{"references":["var.location"]},"name":{"references":["var.sysadmin_machine"]},"network_interface_ids":{"references":["azurerm_network_interface.sys_nic.id","azurerm_network_interface.sys_nic"]},"os_disk":[{"caching":{"constant_value":"ReadWrite"},"name":{"constant_value":"sysadmin_disk"},"storage_account_type":{"constant_value":"Standard_LRS"}}],"resource_group_name":{"references":["azurerm_resource_group.weight-app.name","azurerm_resource_group.weight-app"]},"size":{"references":["var.size"]},"source_image_reference":[{"offer":{"constant_value":"0001-com-ubuntu-server-focal"},"publisher":{"constant_value":"Canonical"},"sku":{"constant_value":"20_04-lts-gen2"},"version":{"constant_value":"latest"}}]},"schema_version":0},{"address":"azurerm_network_interface.nics","mode":"managed","type":"azurerm_network_interface","name":"nics","provider_config_key":"azurerm","expressions":{"ip_configuration":[{"name":{"references":["var.pool_name","count.index"]},"private_ip_address_allocation":{"constant_value":"Dynamic"},"subnet_id":{"references":["azurerm_subnet.frontend_subnet.id","azurerm_subnet.frontend_subnet"]}}],"location":{"references":["var.location"]},"name":{"references":["var.pool_name","count.index"]},"resource_group_name":{"references":["azurerm_resource_group.weight-app.name","azurerm_resource_group.weight-app"]}},"schema_version":0,"count_expression":{"references":["var.TF_VAR_machines"]},"depends_on":["azurerm_resource_group.weight-app","azurerm_subnet.frontend_subnet"]},{"address":"azurerm_network_interface.sys_nic","mode":"managed","type":"azurerm_network_interface","name":"sys_nic","provider_config_key":"azurerm","expressions":{"ip_configuration":[{"name":{"references":["var.command_nic_ip_configuration_name"]},"private_ip_address_allocation":{"constant_value":"Dynamic"},"public_ip_address_id":{"references":["azurerm_public_ip.sysadmin_ip.id","azurerm_public_ip.sysadmin_ip"]},"subnet_id":{"references":["azurerm_subnet.sysadmin_subnet.id","azurerm_subnet.sysadmin_subnet"]}}],"location":{"references":["var.location"]},"name":{"references":["var.sysadmin_machine"]},"resource_group_name":{"references":["azurerm_resource_group.weight-app.name","azurerm_resource_group.weight-app"]}},"schema_version":0,"depends_on":["azurerm_resource_group.weight-app","azurerm_subnet.sysadmin_subnet"]},{"address":"azurerm_network_interface.sysadmin_nic","mode":"managed","type":"azurerm_network_interface","name":"sysadmin_nic","provider_config_key":"azurerm","expressions":{"ip_configuration":[{"name":{"references":["var.command_nic_ip_configuration_name"]},"private_ip_address_allocation":{"constant_value":"Dynamic"},"public_ip_address_id":{"references":["azurerm_public_ip.sysadmin_ip.id","azurerm_public_ip.sysadmin_ip"]},"subnet_id":{"references":["azurerm_subnet.sysadmin_subnet.id","azurerm_subnet.sysadmin_subnet"]}}],"location":{"references":["var.location"]},"name":{"references":["var.sysadmin_machine"]},"resource_group_name":{"references":["azurerm_resource_group.weight-app.name","azurerm_resource_group.weight-app"]}},"schema_version":0,"depends_on":["azurerm_resource_group.weight-app","azurerm_subnet.sysadmin_subnet"]},{"address":"azurerm_network_interface_backend_address_pool_association.fe_nics_connection","mode":"managed","type":"azurerm_network_interface_backend_address_pool_association","name":"fe_nics_connection","provider_config_key":"azurerm","expressions":{"backend_address_pool_id":{"references":["azurerm_lb_backend_address_pool.lb_pool.id","azurerm_lb_backend_address_pool.lb_pool"]},"ip_configuration_name":{"references":["var.pool_name","count.index"]},"network_interface_id":{"references":["azurerm_network_interface.nics","count.index"]}},"schema_version":0,"count_expression":{"references":["var.TF_VAR_machines"]},"depends_on":["azurerm_lb.azurerm_lb"]},{"address":"azurerm_network_interface_security_group_association.nics_nsg","mode":"managed","type":"azurerm_network_interface_security_group_association","name":"nics_nsg","provider_config_key":"azurerm","expressions":{"network_interface_id":{"references":["azurerm_network_interface.nics","count.index"]},"network_security_group_id":{"references":["azurerm_network_security_group.frontend_nsg.id","azurerm_network_security_group.frontend_nsg"]}},"schema_version":0,"count_expression":{"references":["var.TF_VAR_machines"]}},{"address":"azurerm_network_security_group.frontend_nsg","mode":"managed","type":"azurerm_network_security_group","name":"frontend_nsg","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"name":{"constant_value":"frontend_NSG"},"resource_group_name":{"references":["azurerm_resource_group.weight-app.name","azurerm_resource_group.weight-app"]},"security_rule":{"constant_value":[{"access":"Allow","description":null,"destination_address_prefix":"10.0.20.0/26","destination_address_prefixes":null,"destination_application_security_group_ids":null,"destination_port_range":"22","destination_port_ranges":null,"direction":"Inbound","name":"SSH","priority":400,"protocol":"Tcp","source_address_prefix":"10.0.0.0/16","source_address_prefixes":null,"source_application_security_group_ids":null,"source_port_range":"*","source_port_ranges":null},{"access":"Allow","description":null,"destination_address_prefix":"10.0.20.0/26","destination_address_prefixes":null,"destination_application_security_group_ids":null,"destination_port_range":"8080","destination_port_ranges":null,"direction":"Inbound","name":"HTTP","priority":800,"protocol":"Tcp","source_address_prefix":"*","source_address_prefixes":null,"source_application_security_group_ids":null,"source_port_range":"*","source_port_ranges":null}]},"tags":{"references":["terraform.workspace"]}},"schema_version":0,"depends_on":["azurerm_virtual_network.weight_app_network"]},{"address":"azurerm_public_ip.ip","mode":"managed","type":"azurerm_public_ip","name":"ip","provider_config_key":"azurerm","expressions":{"allocation_method":{"constant_value":"Static"},"idle_timeout_in_minutes":{"constant_value":30},"location":{"references":["var.location"]},"name":{"constant_value":"ip"},"resource_group_name":{"references":["azurerm_resource_group.weight-app.name","azurerm_resource_group.weight-app"]},"sku":{"constant_value":"Standard"}},"schema_version":0},{"address":"azurerm_public_ip.sysadmin_ip","mode":"managed","type":"azurerm_public_ip","name":"sysadmin_ip","provider_config_key":"azurerm","expressions":{"allocation_method":{"constant_value":"Dynamic"},"idle_timeout_in_minutes":{"constant_value":30},"location":{"references":["var.location"]},"name":{"constant_value":"weight_app_sysadmin_ip"},"resource_group_name":{"references":["azurerm_resource_group.weight-app.name","azurerm_resource_group.weight-app"]}},"schema_version":0,"depends_on":["azurerm_resource_group.weight-app"]},{"address":"azurerm_resource_group.weight-app","mode":"managed","type":"azurerm_resource_group","name":"weight-app","provider_config_key":"azurerm","expressions":{"location":{"constant_value":"East Us"},"name":{"references":["local.name","var.group"]}},"schema_version":0},{"address":"azurerm_subnet.backend_subnet","mode":"managed","type":"azurerm_subnet","name":"backend_subnet","provider_config_key":"azurerm","expressions":{"address_prefixes":{"constant_value":["10.0.0.0/26"]},"delegation":[{"name":{"constant_value":"dbSubConection"},"service_delegation":[{"actions":{"constant_value":["Microsoft.Network/virtualNetworks/subnets/join/action"]},"name":{"constant_value":"Microsoft.DBforPostgreSQL/flexibleServers"}}]}],"name":{"constant_value":"backendSubnet"},"resource_group_name":{"references":["azurerm_resource_group.weight-app.name","azurerm_resource_group.weight-app"]},"virtual_network_name":{"references":["azurerm_virtual_network.weight_app_network.name","azurerm_virtual_network.weight_app_network"]}},"schema_version":0,"depends_on":["azurerm_resource_group.weight-app"]},{"address":"azurerm_subnet.frontend_subnet","mode":"managed","type":"azurerm_subnet","name":"frontend_subnet","provider_config_key":"azurerm","expressions":{"address_prefixes":{"constant_value":["10.0.20.0/26"]},"name":{"constant_value":"frontendSubnet"},"resource_group_name":{"references":["azurerm_resource_group.weight-app.name","azurerm_resource_group.weight-app"]},"virtual_network_name":{"references":["azurerm_virtual_network.weight_app_network.name","azurerm_virtual_network.weight_app_network"]}},"schema_version":0,"depends_on":["azurerm_resource_group.weight-app"]},{"address":"azurerm_subnet.sysadmin_subnet","mode":"managed","type":"azurerm_subnet","name":"sysadmin_subnet","provider_config_key":"azurerm","expressions":{"address_prefixes":{"constant_value":["10.0.30.0/26"]},"name":{"constant_value":"sysadminSubnet"},"resource_group_name":{"references":["azurerm_resource_group.weight-app.name","azurerm_resource_group.weight-app"]},"virtual_network_name":{"references":["azurerm_virtual_network.weight_app_network.name","azurerm_virtual_network.weight_app_network"]}},"schema_version":0,"depends_on":["azurerm_resource_group.weight-app"]},{"address":"azurerm_subnet_network_security_group_association.frontend_subnet","mode":"managed","type":"azurerm_subnet_network_security_group_association","name":"frontend_subnet","provider_config_key":"azurerm","expressions":{"network_security_group_id":{"references":["azurerm_network_security_group.frontend_nsg.id","azurerm_network_security_group.frontend_nsg"]},"subnet_id":{"references":["azurerm_subnet.frontend_subnet.id","azurerm_subnet.frontend_subnet"]}},"schema_version":0},{"address":"azurerm_virtual_network.weight_app_network","mode":"managed","type":"azurerm_virtual_network","name":"weight_app_network","provider_config_key":"azurerm","expressions":{"address_space":{"constant_value":["10.0.0.0/16"]},"location":{"references":["var.location"]},"name":{"references":["var.prefix"]},"resource_group_name":{"references":["azurerm_resource_group.weight-app.name","azurerm_resource_group.weight-app"]}},"schema_version":0}],"module_calls":{"postgres":{"source":"./modules/postgres","expressions":{"bacjendSubnet":{"references":["azurerm_subnet.backend_subnet.id","azurerm_subnet.backend_subnet"]},"location":{"references":["var.location"]},"pgPassword":{"references":["var.TF_VAR_db_password"]},"pgUsername":{"references":["var.TF_VAR_db_username"]},"rg_name":{"references":["azurerm_resource_group.weight-app.name","azurerm_resource_group.weight-app"]},"vnet":{"references":["azurerm_virtual_network.weight_app_network"]}},"module":{"resources":[{"address":"azurerm_postgresql_flexible_server.postgres_server","mode":"managed","type":"azurerm_postgresql_flexible_server","name":"postgres_server","provider_config_key":"azurerm","expressions":{"administrator_login":{"references":["var.pgUsername"]},"administrator_password":{"references":["var.pgPassword"]},"delegated_subnet_id":{"references":["var.bacjendSubnet"]},"location":{"references":["var.location"]},"name":{"references":["var.rg_name"]},"private_dns_zone_id":{"references":["azurerm_private_dns_zone.private_dns_zone.id","azurerm_private_dns_zone.private_dns_zone"]},"resource_group_name":{"references":["var.rg_name"]},"sku_name":{"constant_value":"B_Standard_B1ms"},"storage_mb":{"constant_value":32768},"version":{"constant_value":"12"},"zone":{"constant_value":"1"}},"schema_version":0,"depends_on":["azurerm_private_dns_zone_virtual_network_link.private_dns_zone_vnl"]},{"address":"azurerm_postgresql_flexible_server_configuration.dbConfig","mode":"managed","type":"azurerm_postgresql_flexible_server_configuration","name":"dbConfig","provider_config_key":"azurerm","expressions":{"name":{"constant_value":"require_secure_transport"},"server_id":{"references":["azurerm_postgresql_flexible_server.postgres_server.id","azurerm_postgresql_flexible_server.postgres_server"]},"value":{"constant_value":"off"}},"schema_version":0},{"address":"azurerm_private_dns_zone.private_dns_zone","mode":"managed","type":"azurerm_private_dns_zone","name":"private_dns_zone","provider_config_key":"azurerm","expressions":{"name":{"references":["var.rg_name"]},"resource_group_name":{"references":["var.rg_name"]}},"schema_version":0},{"address":"azurerm_private_dns_zone_virtual_network_link.private_dns_zone_vnl","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"private_dns_zone_vnl","provider_config_key":"azurerm","expressions":{"name":{"references":["var.rg_name"]},"private_dns_zone_name":{"references":["azurerm_private_dns_zone.private_dns_zone.name","azurerm_private_dns_zone.private_dns_zone"]},"resource_group_name":{"references":["var.rg_name"]},"virtual_network_id":{"references":["var.vnet.id","var.vnet"]}},"schema_version":0}],"variables":{"bacjendSubnet":{},"location":{},"pgPassword":{},"pgUsername":{},"rg_name":{},"vnet":{}}}},"vm_front":{"source":"./modules/frontend","expressions":{"admin_password":{"references":["var.TF_VAR_admin_password"]},"admin_username":{"references":["var.TF_VAR_admin_username"]},"location":{"references":["var.location"]},"nic_fe_ids":{"references":["azurerm_network_interface.nics","count.index"]},"pass_count":{"references":["var.TF_VAR_machines"]},"rg_name":{"references":["local.name","var.group"]},"size":{"references":["var.TF_VAR_size"]},"vm_front":{"references":["count.index"]}},"count_expression":{"references":["var.TF_VAR_machines"]},"module":{"resources":[{"address":"azurerm_availability_set.avset","mode":"managed","type":"azurerm_availability_set","name":"avset","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"managed":{"constant_value":true},"name":{"constant_value":"availabilitySet"},"platform_fault_domain_count":{"references":["var.pass_count"]},"platform_update_domain_count":{"references":["var.pass_count"]},"resource_group_name":{"references":["var.rg_name"]}},"schema_version":0},{"address":"azurerm_linux_virtual_machine.frontendServer","mode":"managed","type":"azurerm_linux_virtual_machine","name":"frontendServer","provider_config_key":"azurerm","expressions":{"admin_password":{"references":["var.admin_password"]},"admin_username":{"references":["var.admin_username"]},"availability_set_id":{"references":["azurerm_availability_set.avset.id","azurerm_availability_set.avset"]},"disable_password_authentication":{"constant_value":false},"location":{"references":["var.location"]},"name":{"references":["var.vm_front"]},"network_interface_ids":{"references":["var.nic_fe_ids"]},"os_disk":[{"caching":{"constant_value":"ReadWrite"},"storage_account_type":{"constant_value":"Standard_LRS"}}],"resource_group_name":{"references":["var.rg_name"]},"size":{"references":["var.size"]},"source_image_reference":[{"offer":{"constant_value":"0001-com-ubuntu-server-focal"},"publisher":{"constant_value":"Canonical"},"sku":{"constant_value":"20_04-lts-gen2"},"version":{"constant_value":"latest"}}],"tags":{"constant_value":{"environment":"staging"}}},"schema_version":0}],"variables":{"admin_password":{},"admin_username":{},"location":{},"nic_fe_ids":{},"pass_count":{},"rg_name":{},"size":{},"vm_front":{"default":""}}}}},"variables":{"TF_VAR_admin_password":{"default":""},"TF_VAR_admin_username":{"default":""},"TF_VAR_db_password":{"default":""},"TF_VAR_db_username":{"default":""},"TF_VAR_machines":{"default":""},"TF_VAR_size":{"default":""},"command_nic_ip_configuration_name":{"default":"sysadmin_ip_con","description":"connection to vm sysadmin"},"group":{"default":"weight-app"},"location":{"default":"East Us"},"name":{"default":"weight_app"},"pool_name":{"default":"webapp_nic","description":"load balance flexible data"},"prefix":{"default":"weight_app"},"rg_name":{"default":"azurerm_resource_group.weight-app.name"},"rgn":{"default":"azurerm_resource_group.weight-app.name"},"size":{"default":"Standard_b1s"},"sysadmin_ip":{"default":"sysadmin_ip"},"sysadmin_machine":{"default":"vm"},"tags":{"default":{"project":"weight-app"}}}}},"relevant_attributes":[{"resource":"module.postgres.azurerm_private_dns_zone.private_dns_zone","attribute":["name"]},{"resource":"azurerm_subnet.frontend_subnet","attribute":["id"]},{"resource":"azurerm_network_security_group.frontend_nsg","attribute":["id"]},{"resource":"module.vm_front[0].azurerm_availability_set.avset","attribute":["id"]},{"resource":"azurerm_subnet.sysadmin_subnet","attribute":["id"]},{"resource":"azurerm_network_interface.sys_nic","attribute":["id"]},{"resource":"azurerm_lb.azurerm_lb","attribute":["id"]},{"resource":"azurerm_resource_group.weight-app","attribute":["name"]},{"resource":"azurerm_virtual_network.weight_app_network","attribute":["name"]},{"resource":"module.postgres.azurerm_private_dns_zone.private_dns_zone","attribute":["id"]},{"resource":"azurerm_public_ip.ip","attribute":[]},{"resource":"azurerm_virtual_network.weight_app_network","attribute":[]},{"resource":"azurerm_subnet.backend_subnet","attribute":["id"]},{"resource":"azurerm_public_ip.ip","attribute":["id"]},{"resource":"azurerm_lb_backend_address_pool.lb_pool","attribute":["id"]},{"resource":"azurerm_lb_probe.lb_probe","attribute":["id"]},{"resource":"azurerm_network_interface.nics","attribute":[]},{"resource":"module.postgres.azurerm_postgresql_flexible_server.postgres_server","attribute":["id"]},{"resource":"azurerm_public_ip.sysadmin_ip","attribute":["id"]}]}
